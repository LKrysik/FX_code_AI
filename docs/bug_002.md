http://localhost:3000/dashboard?mode=paper

Something went wrong
We encountered an unexpected error. This has been logged and our team has been notified.

Error Details
Error: candlestickSeriesRef.current.setMarkers is not a function

Component: at eval (webpack-internal:///(app-pages-browser)/./src/components/dashboard/CandlestickChart.tsx:351:38)


B≈Çƒôdy z konsoli

websocket.ts:531 
 GET http://localhost:3000/api/state/snapshot 500 (Internal Server Error)
requestStateSync	@	websocket.ts:531
handleHandshakeResponse	@	websocket.ts:507
handleMessage	@	websocket.ts:242
socket.onmessage	@	websocket.ts:218

websocket.ts:571 [WS] State sync error: Error: State sync failed: 500
    at WebSocketService.requestStateSync (websocket.ts:540:15)
requestStateSync	@	websocket.ts:571
await in requestStateSync		
handleHandshakeResponse	@	websocket.ts:507
handleMessage	@	websocket.ts:242


ActivePositionBanner.tsx:132 
 GET http://localhost:8080/api/positions?session_id=exec_20251226_202639_ef3e021b&status=OPEN 404 (Not Found)
eval	@	ActivePositionBanner.tsx:132
eval	@	ActivePositionBanner.tsx:158


ActivePositionBanner.tsx:148 [ActivePositionBanner] Failed to fetch positions: Error: Failed to load positions: 404
    at eval (ActivePositionBanner.tsx:137:15)
eval	@	ActivePositionBanner.tsx:148
await in eval		
eval	@	ActivePositionBanner.tsx:158


StateOverviewTable.integration.tsx:137 WebSocket error: 
Event {isTrusted: true, type: 'error', target: WebSocket, currentTarget: WebSocket, eventPhase: 2, ‚Ä¶}
isTrusted
: 
true
bubbles
: 
false
cancelBubble
: 
false
cancelable
: 
false
composed
: 
false
currentTarget
: 
null
defaultPrevented
: 
false
eventPhase
: 
0
returnValue
: 
true
srcElement
: 
WebSocket {url: 'ws://127.0.0.1:8080/ws', readyState: 3, bufferedAmount: 0, onopen: ∆í, onerror: ∆í, ‚Ä¶}
target
: 
WebSocket {url: 'ws://127.0.0.1:8080/ws', readyState: 3, bufferedAmount: 0, onopen: ∆í, onerror: ∆í, ‚Ä¶}
timeStamp
: 
9816.699999988079
type
: 
"error"
[[Prototype]]
: 
Event
socket.onerror	@	StateOverviewTable.integration.tsx:137

react-dom.development.js:20769 Uncaught TypeError: candlestickSeriesRef.current.setMarkers is not a function
    at eval (CandlestickChart.tsx:426:43)
eval	@	CandlestickChart.tsx:426


useWebSocket.ts:373 WebSocket connection to 'ws://127.0.0.1:8080/ws' failed: WebSocket is closed before the connection is established.
eval	@	useWebSocket.ts:373

react-dom.development.js:20769 Uncaught TypeError: candlestickSeriesRef.current.setMarkers is not a function
    at eval (CandlestickChart.tsx:426:43)
eval	@	CandlestickChart.tsx:426


The above error occurred in the <NotFoundErrorBoundary> component:

    at CandlestickChart (webpack-internal:///(app-pages-browser)/./src/components/dashboard/CandlestickChart.tsx:57:11)
    at div
    at eval (webpack-internal:///(app-pages-browser)/./node_modules/@emotion/react/dist/emotion-element-489459f2.browser.development.esm.js:55:66)
    at Paper (webpack-internal:///(app-pages-browser)/./node_modules/@mui/material/Paper/Paper.js:87:90)
    at div
    at eval (webpack-internal:///(app-pages-browser)/./node_modules/@emotion/react/dist/emotion-element-489459f2.browser.development.esm.js:55:66)
    at Grid (webpack-internal:///(app-pages-browser)/./node_modules/@mui/material/Grid/Grid.js:387:94)
    at div
    at eval (webpack-internal:///(app-pages-browser)/./node_modules/@emotion/react/dist/emotion-element-489459f2.browser.development.esm.js:55:66)
    at Grid (webpack-internal:///(app-pages-browser)/./node_modules/@mui/material/Grid/Grid.js:387:94)
    at div
    at eval (webpack-internal:///(app-pages-browser)/./node_modules/@emotion/react/dist/emotion-element-489459f2.browser.development.esm.js:55:66)
    at Box (webpack-internal:///(app-pages-browser)/./node_modules/@mui/system/esm/createBox.js:36:76)
    at DashboardContent (webpack-internal:///(app-pages-browser)/./src/app/dashboard/page.tsx:107:90)
    at Suspense
    at UnifiedDashboardPage
    at ClientPageRoot (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/client/components/client-page.js:14:11)
    at InnerLayoutRouter (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/client/components/layout-router.js:243:11)
    at RedirectErrorBoundary (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/client/components/redirect-boundary.js:74:9)
    at RedirectBoundary (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/client/components/redirect-boundary.js:82:11)
    at NotFoundBoundary (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/client/components/not-found-boundary.js:84:11)
    at LoadingBoundary (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/client/components/layout-router.js:349:11)
    at ErrorBoundary (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/client/components/error-boundary.js:160:11)
    at InnerScrollAndFocusHandler (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/client/components/layout-router.js:153:9)
    at ScrollAndFocusHandler (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/client/components/layout-router.js:228:11)
    at RenderFromTemplateContext (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/client/components/render-from-template-context.js:16:44)
    at OuterLayoutRouter (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/client/components/layout-router.js:370:11)
    at InnerLayoutRouter (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/client/components/layout-router.js:243:11)
    at RedirectErrorBoundary (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/client/components/redirect-boundary.js:74:9)
    at RedirectBoundary (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/client/components/redirect-boundary.js:82:11)
    at NotFoundErrorBoundary (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/client/components/not-found-boundary.js:76:9)
    at NotFoundBoundary (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/client/components/not-found-boundary.js:84:11)
    at LoadingBoundary (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/client/components/layout-router.js:349:11)
    at ErrorBoundary (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/client/components/error-boundary.js:160:11)
    at InnerScrollAndFocusHandler (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/client/components/layout-router.js:153:9)
    at ScrollAndFocusHandler (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/client/components/layout-router.js:228:11)
    at RenderFromTemplateContext (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/client/components/render-from-template-context.js:16:44)
    at OuterLayoutRouter (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/client/components/layout-router.js:370:11)
    at div
    at eval (webpack-internal:///(app-pages-browser)/./node_modules/@emotion/react/dist/emotion-element-489459f2.browser.development.esm.js:55:66)
    at Box (webpack-internal:///(app-pages-browser)/./node_modules/@mui/system/esm/createBox.js:36:76)
    at main
    at eval (webpack-internal:///(app-pages-browser)/./node_modules/@emotion/react/dist/emotion-element-489459f2.browser.development.esm.js:55:66)
    at Box (webpack-internal:///(app-pages-browser)/./node_modules/@mui/system/esm/createBox.js:36:76)
    at div
    at eval (webpack-internal:///(app-pages-browser)/./node_modules/@emotion/react/dist/emotion-element-489459f2.browser.development.esm.js:55:66)
    at Box (webpack-internal:///(app-pages-browser)/./node_modules/@mui/system/esm/createBox.js:36:76)
    at Layout (webpack-internal:///(app-pages-browser)/./src/components/layout/Layout.tsx:200:11)
    at ErrorBoundary (webpack-internal:///(app-pages-browser)/./src/components/ErrorBoundary.tsx:365:9)
    at DefaultPropsProvider (webpack-internal:///(app-pages-browser)/./node_modules/@mui/system/esm/DefaultPropsProvider/DefaultPropsProvider.js:18:11)
    at RtlProvider (webpack-internal:///(app-pages-browser)/./node_modules/@mui/system/esm/RtlProvider/index.js:21:7)
    at ThemeProvider (webpack-internal:///(app-pages-browser)/./node_modules/@mui/private-theming/ThemeProvider/ThemeProvider.js:42:5)
    at ThemeProvider (webpack-internal:///(app-pages-browser)/./node_modules/@mui/system/esm/ThemeProvider/ThemeProvider.js:66:13)
    at ThemeProvider (webpack-internal:///(app-pages-browser)/./node_modules/@mui/material/styles/ThemeProvider.js:25:18)
    at ThemeProvider (webpack-internal:///(app-pages-browser)/./src/components/theme/ThemeProvider.tsx:317:11)
    at body
    at html
    at RootLayout (Server)
    at RedirectErrorBoundary (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/client/components/redirect-boundary.js:74:9)
    at RedirectBoundary (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/client/components/redirect-boundary.js:82:11)
    at NotFoundErrorBoundary (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/client/components/not-found-boundary.js:76:9)
    at NotFoundBoundary (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/client/components/not-found-boundary.js:84:11)
    at DevRootNotFoundBoundary (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/client/components/dev-root-not-found-boundary.js:33:11)
    at ReactDevOverlay (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/client/components/react-dev-overlay/app/ReactDevOverlay.js:87:9)
    at HotReload (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/client/components/react-dev-overlay/app/hot-reloader-client.js:321:11)
    at Router (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/client/components/app-router.js:207:11)
    at ErrorBoundaryHandler (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/client/components/error-boundary.js:113:9)
    at ErrorBoundary (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/client/components/error-boundary.js:160:11)
    at AppRouter (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/client/components/app-router.js:585:13)
    at ServerRoot (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/client/app-index.js:112:27)
    at Root (webpack-internal:///(app-pages-browser)/./node_modules/next/dist/client/app-index.js:117:11)

React will try to recreate this component tree from scratch using the error boundary you provided, ErrorBoundary.


config.ts:58 [ERROR] ErrorBoundary caught an error 
{error: TypeError: candlestickSeriesRef.current.setMarkers is not a function
    at eval (webpack-internal:‚Ä¶, errorInfo: {‚Ä¶}}
errorLog	@	config.ts:58
componentDidCatch	@	ErrorBoundary.tsx:60


ActivePositionBanner.tsx:132 
 GET http://localhost:8080/api/positions?session_id=exec_20251226_202639_ef3e021b&status=OPEN 404 (Not Found)
eval	@	ActivePositionBanner.tsx:132
eval	@	ActivePositionBanner.tsx:158

ActivePositionBanner.tsx:148 [ActivePositionBanner] Failed to fetch positions: Error: Failed to load positions: 404
    at eval (ActivePositionBanner.tsx:137:15)
eval	@	ActivePositionBanner.tsx:148
await in eval		
eval	@	ActivePositionBanner.tsx:158


useWebSocket.ts:304 [useWebSocket] Error: 
Event {isTrusted: true, type: 'error', target: WebSocket, currentTarget: WebSocket, eventPhase: 2, ‚Ä¶}
ws.onerror	@	useWebSocket.ts:304



[2025-12-26 20:24:00] Starting frontend...

> crypto-trading-ui@1.0.0 dev
> next dev

  ‚ñ≤ Next.js 14.2.32
  - Local:        http://localhost:3000
  - Environments: .env.local

 ‚úì Starting...
Warning: Reverting webpack devtool to 'eval-source-map'.
Changing the webpack devtool in development mode will cause severe performance regressions.
Read more: https://nextjs.org/docs/messages/improper-devtool
 ‚úì Ready in 4.4s
 ‚óã Compiling / ...
 ‚úì Compiled / in 15.2s (2112 modules)
[zustand devtools middleware] Please install/enable Redux devtools extension
[zustand devtools middleware] Please install/enable Redux devtools extension
[zustand devtools middleware] Please install/enable Redux devtools extension
[zustand devtools middleware] Please install/enable Redux devtools extension
üîó [WebSocket] CONNECTION OPENED {
  url: 'ws://127.0.0.1:8080/ws',
  readyState: 1,
  timestamp: '2025-12-26T19:24:47.903Z'
}
üì® [WebSocket RECEIVED] {
  type: 'status',
  stream: undefined,
  hasData: false,
  dataKeys: [],
  timestamp: '2025-12-26T19:24:47.934Z',
  client_id: 'client_1766777087934_s0dhpe8oc'
}
ü§ù [HANDSHAKE] Frontend handshake completed {
  status: 'connected',
  client_id: '403053a8-410c-4aa6-8e36-be432a2978f7',
  timestamp: '2025-12-26T19:24:47.935Z'
}
[WS] Requesting state sync...
[WS] State sync error: TypeError: Failed to parse URL from /api/state/snapshot
    at new Request (node:internal/deps/undici/undici:9588:19)
    at dedupeFetch (webpack-internal:///(rsc)/./node_modules/next/dist/server/lib/dedupe-fetch.js:102:87)
    ... 2 lines matching cause stack trace ...
    at async WebSocketService.requestStateSync (webpack-internal:///(ssr)/./src/services/websocket.ts:471:30) {
  [cause]: TypeError: Invalid URL
      at new URL (node:internal/url:825:25)
      at new Request (node:internal/deps/undici/undici:9586:25)
      at dedupeFetch (webpack-internal:///(rsc)/./node_modules/next/dist/server/lib/dedupe-fetch.js:102:87)
      at doOriginalFetch (webpack-internal:///(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js:442:24)
      at eval (webpack-internal:///(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js:628:24)
      at async WebSocketService.requestStateSync (webpack-internal:///(ssr)/./src/services/websocket.ts:471:30) {
    code: 'ERR_INVALID_URL',
    input: '/api/state/snapshot'
  }
}
 GET / 200 in 285ms
 GET / 200 in 144ms
(node:9184) [DEP0060] DeprecationWarning: The `util._extend` API is deprecated. Please use Object.assign() instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
üì® [WebSocket RECEIVED] {
  type: 'status',
  stream: undefined,
  hasData: false,
  dataKeys: [],
  timestamp: '2025-12-26T19:25:17.951Z',
  client_id: 'client_1766777117951_fxp71k6u1'
}
 ‚óã Compiling /trading ...
 ‚úì Compiled /trading in 1998ms (2118 modules)
 ‚óã Compiling /dashboard ...
üì® [WebSocket RECEIVED] {
  type: 'status',
  stream: undefined,
  hasData: false,
  dataKeys: [],
  timestamp: '2025-12-26T19:25:47.976Z',
  client_id: 'client_1766777147976_8auhqo9ta'
}
 ‚úì Compiled /dashboard in 14.1s (3378 modules)
üì® [WebSocket RECEIVED] {
  type: 'status',
  stream: undefined,
  hasData: false,
  dataKeys: [],
  timestamp: '2025-12-26T19:26:17.963Z',
  client_id: 'client_1766777177963_gmyzgo3f3'
}
 ‚óã Compiling /paper ...
 ‚úì Compiled /paper in 3.8s (3384 modules)
üì® [WebSocket RECEIVED] {
  type: 'status',
  stream: undefined,
  hasData: false,
  dataKeys: [],
  timestamp: '2025-12-26T19:26:47.965Z',
  client_id: 'client_1766777207965_um8s0ldum'
}
üì® [WebSocket RECEIVED] {
  type: 'status',
  stream: undefined,
  hasData: false,
  dataKeys: [],
  timestamp: '2025-12-26T19:27:17.982Z',
  client_id: 'client_1766777237982_b31vxnfw7'
}
 ‚óã Compiling /_not-found ...
 ‚úì Compiled /_not-found in 4.1s (3383 modules)
[zustand devtools middleware] Please install/enable Redux devtools extension
[zustand devtools middleware] Please install/enable Redux devtools extension
[zustand devtools middleware] Please install/enable Redux devtools extension
[zustand devtools middleware] Please install/enable Redux devtools extension
üîó [WebSocket] CONNECTION OPENED {
  url: 'ws://127.0.0.1:8080/ws',
  readyState: 1,
  timestamp: '2025-12-26T19:27:36.918Z'
}
üì® [WebSocket RECEIVED] {
  type: 'status',
  stream: undefined,
  hasData: false,
  dataKeys: [],
  timestamp: '2025-12-26T19:27:36.973Z',
  client_id: 'client_1766777256973_197zgiy4c'
}
ü§ù [HANDSHAKE] Frontend handshake completed {
  status: 'connected',
  client_id: '4a27c4c4-9dc3-405c-9d1e-5e23d122a4bc',
  timestamp: '2025-12-26T19:27:36.974Z'
}
[WS] Requesting state sync...
[WS] State sync error: TypeError: Failed to parse URL from /api/state/snapshot
    at new Request (node:internal/deps/undici/undici:9588:19)
    at dedupeFetch (webpack-internal:///(rsc)/./node_modules/next/dist/server/lib/dedupe-fetch.js:102:87)
    ... 2 lines matching cause stack trace ...
    at async WebSocketService.requestStateSync (webpack-internal:///(ssr)/./src/services/websocket.ts:471:30) {
  [cause]: TypeError: Invalid URL
      at new URL (node:internal/url:825:25)
      at new Request (node:internal/deps/undici/undici:9586:25)
      at dedupeFetch (webpack-internal:///(rsc)/./node_modules/next/dist/server/lib/dedupe-fetch.js:102:87)
      at doOriginalFetch (webpack-internal:///(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js:442:24)
      at eval (webpack-internal:///(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js:628:24)
      at async WebSocketService.requestStateSync (webpack-internal:///(ssr)/./src/services/websocket.ts:471:30) {
    code: 'ERR_INVALID_URL',
    input: '/api/state/snapshot'
  }
}
 GET /.well-known/appspecific/com.chrome.devtools.json 404 in 6765ms
 GET /dashboard?mode=paper 200 in 4554ms
 GET /.well-known/appspecific/com.chrome.devtools.json 404 in 148ms
üì® [WebSocket RECEIVED] {
  type: 'status',
  stream: undefined,
  hasData: false,
  dataKeys: [],
  timestamp: '2025-12-26T19:27:47.997Z',
  client_id: 'client_1766777267997_cgjdpe46i'
}
üì® [WebSocket RECEIVED] {
  type: 'status',
  stream: undefined,
  hasData: false,
  dataKeys: [],
  timestamp: '2025-12-26T19:28:06.983Z',
  client_id: 'client_1766777286983_9tdw65wye'
}
üì® [WebSocket RECEIVED] {
  type: 'status',
  stream: undefined,
  hasData: false,
  dataKeys: [],
  timestamp: '2025-12-26T19:28:18.008Z',
  client_id: 'client_1766777298008_rta3khykr'
}
üì® [WebSocket RECEIVED] {
  type: 'status',
  stream: undefined,
  hasData: false,
  dataKeys: [],
  timestamp: '2025-12-26T19:28:36.998Z',
  client_id: 'client_1766777316998_9h0c7rn9x'
}
üì® [WebSocket RECEIVED] {
  type: 'status',
  stream: undefined,
  hasData: false,
  dataKeys: [],
  timestamp: '2025-12-26T19:28:48.010Z',
  client_id: 'client_1766777328010_cqxz0tvnw'
}
üì® [WebSocket RECEIVED] {
  type: 'status',
  stream: undefined,
  hasData: false,
  dataKeys: [],
  timestamp: '2025-12-26T19:29:07.006Z',
  client_id: 'client_1766777347006_nbwuo5kj7'
}
